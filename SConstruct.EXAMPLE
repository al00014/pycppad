import distutils.sysconfig
import numpy

cppad_include_path = './cppad-20081128'

LIBS		= ['boost_python-mt']
LIBPATH		= []
INCLUDEPATH	= [cppad_include_path]

env = Environment(
	CPPPATH=[distutils.sysconfig.get_python_inc(),numpy.get_include()] + INCLUDEPATH,
	CXXFLAGS="-ftemplate-depth-100 -DBOOST_PYTHON_DYNAMIC_LIB -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2",
	LINKFLAGS = "-pthread",
	LIBPATH= LIBPATH,
	LIBS= LIBS,
	RPATH = LIBPATH, #include information where shared libraries can be found to avoid errors like: "ImportError: libboost_python-gcc42-mt-1_34_1.so.1.34.1: cannot open shared object file: No such file or directory"
	SHLIBPREFIX="", #gets rid of lib prefix
)
Default('.')
cppad = env.SharedLibrary(target='_cppad', source=['py_cppad.cpp'])
#env.Install("./release/cppad", cppad)

